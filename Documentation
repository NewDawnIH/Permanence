<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDock</title>
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f5f5f5; color: #333; display: flex; height: 100vh; overflow: hidden;">

    <!-- SIDE NAVIGATION -->
    <nav id="sidebar" style="width: 260px; background-color: #ffffff; border-right: 1px solid #e0e0e0; display: flex; flex-direction: column; flex-shrink: 0; box-shadow: 2px 0 5px rgba(0,0,0,0.05); z-index: 10;">
        <div style="padding: 24px; border-bottom: 1px solid #f0f0f0;">
            <h1 style="margin: 0; font-size: 22px; color: #1a73e8; letter-spacing: 0.5px; font-weight: 600;">MDock</h1>
        </div>
        <div style="flex-grow: 1; padding: 16px 0;">
            <div onclick="showTab('projects')" style="padding: 12px 24px; cursor: pointer; background-color: #e8f0fe; color: #1a73e8; font-weight: 500; display: flex; align-items: center; transition: background 0.2s;">
                <span style="margin-right: 12px;">üìÅ</span> Projects
            </div>
            <!-- Future panels can be added here -->
        </div>
    </nav>

    <!-- MAIN CONTENT AREA -->
    <main style="flex-grow: 1; overflow-y: auto; position: relative;">
        
        <!-- PROJECTS TAB -->
        <div id="tab-projects" style="padding: 40px; max-width: 1000px; margin: 0 auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px;">
                <h2 style="margin: 0; font-size: 28px; font-weight: 400;">Projects</h2>
                <button onclick="openNewProjectModal()" style="background-color: #1a73e8; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500; box-shadow: 0 1px 3px rgba(0,0,0,0.2); transition: background 0.2s;">
                    + NEW PROJECT
                </button>
            </div>

            <!-- PROJECTS LIST CONTAINER -->
            <div id="project-list" style="display: flex; flex-direction: column; gap: 16px;">
                <!-- Project cards will appear here -->
                <div id="empty-state" style="text-align: center; padding: 60px; color: #70757a; background: white; border-radius: 8px; border: 1px dashed #ccc;">
                    No projects found. Create your first project to get started.
                </div>
            </div>
        </div>
    </main>

    <!-- CREATE PROJECT MODAL (Overlay) -->
    <div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 100; align-items: center; justify-content: center;">
        <div style="background: white; width: 90%; max-width: 700px; max-height: 90vh; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); overflow-y: auto; display: flex; flex-direction: column;">
            
            <div style="padding: 24px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
                <h3 style="margin: 0; font-size: 20px;">New Project</h3>
                <button onclick="closeModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #999;">&times;</button>
            </div>

            <div style="padding: 24px;">
                <!-- Basic Info -->
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-size: 12px; color: #1a73e8; font-weight: 600; margin-bottom: 4px;">PROJECT NAME</label>
                    <input type="text" id="proj-name" placeholder="Enter name..." style="width: 100%; padding: 10px; border: 1px solid #dadce0; border-radius: 4px; box-sizing: border-box; font-size: 16px;">
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-size: 12px; color: #1a73e8; font-weight: 600; margin-bottom: 4px;">DESCRIPTION</label>
                    <textarea id="proj-desc" rows="3" placeholder="Describe the goal..." style="width: 100%; padding: 10px; border: 1px solid #dadce0; border-radius: 4px; box-sizing: border-box; font-size: 14px; resize: vertical;"></textarea>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-size: 12px; color: #1a73e8; font-weight: 600; margin-bottom: 4px;">STATUS</label>
                    <select id="proj-status" style="width: 100%; padding: 10px; border: 1px solid #dadce0; border-radius: 4px; box-sizing: border-box; background: white;">
                        <option value="ANA">Analysis (ANA)</option>
                        <option value="DEV">Development (DEV)</option>
                        <option value="APB">Approval (APB)</option>
                        <option value="DONE">Done (DONE)</option>
                    </select>
                </div>

                <!-- Resources Panel -->
                <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 12px 0; font-size: 14px; color: #5f6368;">Resources</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div>
                            <label style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 4px;">PROGRAMS (Comma separated)</label>
                            <input type="text" id="proj-programs" placeholder="e.g. Script v1, MainLoader" style="width: 100%; padding: 8px; border: 1px solid #dadce0; border-radius: 4px; font-size: 13px;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 4px;">TABLES (Comma separated)</label>
                            <input type="text" id="proj-tables" placeholder="e.g. USR_DATA, LOG_EVENT" style="width: 100%; padding: 8px; border: 1px solid #dadce0; border-radius: 4px; font-size: 13px;">
                        </div>
                    </div>
                </div>

                <!-- Research Log -->
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-size: 12px; color: #1a73e8; font-weight: 600; margin-bottom: 4px;">RESEARCH LOG ENTRY</label>
                    <textarea id="proj-log" rows="2" placeholder="Initial research findings..." style="width: 100%; padding: 10px; border: 1px solid #dadce0; border-radius: 4px; box-sizing: border-box; font-size: 14px; resize: vertical;"></textarea>
                </div>
            </div>

            <div style="padding: 16px 24px; border-top: 1px solid #eee; display: flex; justify-content: flex-end; gap: 12px;">
                <button onclick="closeModal()" style="background: none; border: 1px solid #dadce0; color: #5f6368; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Cancel</button>
                <button onclick="saveProject()" style="background: #1a73e8; border: none; color: white; padding: 8px 24px; border-radius: 4px; cursor: pointer; font-weight: 500;">Create Project</button>
            </div>
        </div>
    </div>

    <script>
        let projects = [];
        const statusColors = {
            'ANA': { bg: '#e8f0fe', text: '#1967d2' }, // Blue
            'DEV': { bg: '#fef7e0', text: '#ea8600' }, // Yellow/Orange
            'APB': { bg: '#fce8e6', text: '#d93025' }, // Red/Pink
            'DONE': { bg: '#e6f4ea', text: '#1e8e3e' } // Green
        };

        function showTab(tabName) {
            // Placeholder for navigation logic if more tabs are added
            console.log('Navigating to', tabName);
        }

        function openNewProjectModal() {
            document.getElementById('modal-overlay').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal-overlay').style.display = 'none';
            resetForm();
        }

        function resetForm() {
            document.getElementById('proj-name').value = '';
            document.getElementById('proj-desc').value = '';
            document.getElementById('proj-status').value = 'ANA';
            document.getElementById('proj-programs').value = '';
            document.getElementById('proj-tables').value = '';
            document.getElementById('proj-log').value = '';
        }

        function saveProject() {
            const name = document.getElementById('proj-name').value;
            if (!name) {
                // Simplified validation since alert() is not allowed
                document.getElementById('proj-name').style.borderColor = 'red';
                return;
            }

            const newProj = {
                id: Date.now(),
                name: name,
                description: document.getElementById('proj-desc').value,
                status: document.getElementById('proj-status').value,
                programs: document.getElementById('proj-programs').value.split(',').map(s => s.trim()).filter(s => s),
                tables: document.getElementById('proj-tables').value.split(',').map(s => s.trim()).filter(s => s),
                logs: document.getElementById('proj-log').value ? [{ date: new Date().toLocaleString(), text: document.getElementById('proj-log').value }] : []
            };

            projects.push(newProj);
            renderProjects();
            closeModal();
        }

        function renderProjects() {
            const list = document.getElementById('project-list');
            if (projects.length > 0) {
                document.getElementById('empty-state').style.display = 'none';
            }
            
            list.innerHTML = '';
            
            projects.forEach(p => {
                const color = statusColors[p.status];
                const card = document.createElement('div');
                card.style.cssText = `
                    background: white;
                    border: 1px solid #e0e0e0;
                    border-radius: 8px;
                    padding: 20px;
                    display: flex;
                    flex-direction: column;
                    gap: 12px;
                    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
                    transition: box-shadow 0.2s;
                `;
                
                // Card content using template string
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <h3 style="margin: 0 0 4px 0; font-size: 18px; color: #202124;">${p.name}</h3>
                            <p style="margin: 0; font-size: 14px; color: #5f6368;">${p.description}</p>
                        </div>
                        <span style="background-color: ${color.bg}; color: ${color.text}; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">
                            ${p.status}
                        </span>
                    </div>
                    
                    <div style="display: flex; gap: 24px; margin-top: 8px; font-size: 13px; color: #70757a; border-top: 1px solid #f1f3f4; padding-top: 12px;">
                        <div><strong>Programs:</strong> ${p.programs.length > 0 ? p.programs.join(', ') : 'None'}</div>
                        <div><strong>Tables:</strong> ${p.tables.length > 0 ? p.tables.join(', ') : 'None'}</div>
                        <div><strong>Logs:</strong> ${p.logs.length} entries</div>
                    </div>
                `;
                list.appendChild(card);
            });
        }
    </script>
</body>
</html>
